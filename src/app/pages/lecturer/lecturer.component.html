<ng-container *ngIf="courses$ | async as courses; else loader">
  <h1>Courses</h1>

  <div class="course-edit">
    <h3>Add a new course</h3>
    <form [formGroup]="form" (ngSubmit)="submitCourse()">
        <label for="title" class="visible">Title</label>
        <input
          placeholder="Algorithms and Datastructures"
          type="text"
          id="title"
          class="form-control"
          formControlName="title"
          required />

      <label for="instituteSlug" class="visible">Institute</label>
      <select
        id="instituteSlug"
        class="form-control"
        formControlName="instituteSlug"
        required>

        <option value="" disabled selected>Select your institute</option>
        <option *ngFor="let institute of institutes$ | async" [value]="institute.slug">
          {{ institute.title }}
        </option>

      </select>

      <label for="courseSlug" class="visible">Shorthand</label> 
      <input
        placeholder="AD"
        type="text"
        id="courseSlug"
        class="form-control"
        formControlName="courseSlug"
        required />
      <button [disabled]="form.invalid" type="submit" class="btn">{{ editing ? 'Update' : 'Create' }}</button>
    </form>
  </div>

  <table class="course-list">
    <tr>
      <th>Slug</th>
      <th>Title</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
    <tr *ngFor="let course of courses" class="course">
      <td class="slug">{{ course.slug.toUpperCase() }}</td>
      <td class="title">{{ course.title }}</td>
      <td (click)="editCourse(course)" class="edit">
        <i class="material-icons clickable">edit</i>
      </td>
      <td (click)="deleteCourse(course)" class="delete">
        <i class="material-icons clickable">delete_forever</i>
      </td>
    </tr>
  </table>

</ng-container>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
